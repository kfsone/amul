
                   AMUL v0.9.07 -> AGL v0.9.07 Update Notes

INTRODUCTION:

A  long time has passed since the initial release of version 0.9.06 of AMUL and
the  release  of  version 0.9.07.  During that time so many significant changes
have  occured  within  AMUL  and its stooges, that I have decided to change the
name  of  the  project  also.   Expect  more  sweeping  changes in the next few
releases.   Version  0.9.10  of AGL will be very different from the AMUL we all
know  and  love,  but  since  this is an UPDATE file, I won't bore you with the
details.

BTW; AGL stands for Advanced Games Language - you'll see why by version 0.9.10!

CREDITS:
Thanks  to the following people for ideas, suggestions and bloody-minded moans.
Some of them even took the time to register:

Brendan Pratt.
Scott Boutwell.
Rodney Marks.						} Your assistance IS appreciated,
Wim Rumbing.						} but didn't you ought to register?
John Hudson & his friend, Adam.		} Fairs fair, eh?


                            --- REVISION NOTES ---

                                 BRIEF SUMMARY

1]	Renamed/removed/changed several actions
2]	Removed support for prepositions
3]	Changed display of EXITS to allow for errors
4]	Carriage returns automatically stripped from room descriptions.
5]	LOOK merges room description, objects and players into one text.
6]	Source of StarNet "lost character" problem located.
7]	agl.library crashes solved
8]	New text formatter
9]	"verb=XXX,syntax=any" made redundant
10]	Revised daemon handlers.
11]	New log-file routiness.
12]	Improved container handling / mobiles can get/drop.
13]	AGL/AMan now support user "time limit" capability
14]	New AMan command-line parser and options.
15]	Control commands moved to AGCon (New program)
16]	New "memory release" in AMan to reduce fragmentation.
17]	Optional "verb" in Lang.Txt no-longer supported.
18]	The *<noun> facility now works (meaning location of object)
19]	User limit changed to 32!
20]	ObDescs.Txt is now processed in memory, rather than direct from disk.
21]	Change to SCORE VERBOSE display.
22]	"Articles" implemented in objects (e.g. a, an, the, some).
23]	Mobile ACT handling improved


                             DETAILED INFORMATION

                                     [ 1]
Renamed the following actions:
	reply		-> print
	endparse	-> end
	failparse	-> fail
	finishparse	-> finish
	abortparse	-> abort
	sleep		-> inflict me sleep
	wake		-> cure me sleep
	quit		-> quit ask	or	quit force


                                     [ 2]
Prepositions are no-longer supported in AGL.


                                     [ 3]
When  AGL lists EXITS to a user; if it finds a direction with an ERROR message,
it will display the error.  So, you could have:

	north: Small room.
	east: The door is closed!

This gives users a much better idea of the working of the land.


                                     [ 4]
AGLCom is now fixed to remove all carriage returns from long room descriptions.
This  FORCES  text  formatting to be handled by AGL's output functions based on
the  users  individual  terminal settings.  If you want to add a return, you'll
have to "hard code" it with a "^M" or "@cr" code.


                                     [ 5]
I  have  re-worked  the  LOOK  function.  Instead of seperating the objects and
players  from  the  room  description,  AGL will now print them all as one long
chunk  of  text.  I realise some of you won't like this at first, but it forces
players to read the room descriptions more often.


                                     [ 6]
The  STARNET  bug  is  *NOT*  fixed  and  never  will  be.   StarNet  leaves an
"IoRequest"  waiting  when  it runs AMUL, so when the user first presses a key,
they are satisfying StarNet's last request.  That's why the character is echoed
to be BBS when you exit AMUL.


                                     [ 7]
Previous  versions  of  amul.library  would  randomly crash due to a bug in the
random seed generator.  Fixed in agl.library.  Mainly caused by mobiles!


                                     [ 8]
AGL  uses  a  look-ahead method to detect when it should do an end-of-line wrap
whilst displaying text messages.


                                     [ 9]
Lang.Txt:
You  are  no-longer  REQUIRED  to  give  a  syntax  block.  "SYNTAX=ANY" is the
default,  and is assumed until a syntax= line IS specified within the verb.  So
the following verb is no valid.
	verb=Example,print "Look! No syntax= line!"


                                     [10]
Daemon  handler revised.  AMAN uses linked-lists for processing daemons.  Minor
bug where AMUL Daemon's would crash if interrupted has been cured.


                                     [11]
AMan  now  uses a different method of generating the log file.  This will cause
some of the log-file content to be significantly different.


                                     [12]
Improved implementation of container objects (see new actions/conditions).  The
GIVE/GET functions have been modified so that it is now possible for mobiles to
pick  objects  up/drop  them!   These  functions  are *not* fully tested - your
feedback would be greeted with a smile!


                                     [13]
AGL  and  AMan  now allow you to place time limit restrictions on all or single
users.  The limits are specified in terms of MINUTES and legal values are:  -1,
Locks  user  out  of  game;  0,  the default, indicates no time limit; 10+, the
minimum time limit is ten minutes and the maximum is 32,767 minutes.  To impose
a global limit, use AMan with the new -M option (see 14) or use AGcon (see 15).
For individual users, AGL also has a -M option.


                                     [14]
AMan  now  has a parser to handle command-line switches.  The "control" options
have  all  been  moved  to a new program called "AGCon" to reduce the amount of
memory  used  while AGL is just "running".  Several new options have been added
during this process: (See 14 for details of AGCon)

or	AMAN [-q] [-p <game path>] [-t <alt game path>] [-l <time>] [-m <time>]

a)  Parameters can now immediately follow a switch (eg, -m5) or be seperated by
one or more whitespace characters (eg -p adv:game)

b) Unless the -P switch is used, a default game path of GAME:  is assumed.  The
command line "AMAN <path>" is no-longer valid.

c)  The -T switch (for TOGGLE) specifies a second game.  AMAN will swap between
the -P and -T games at each reset.

d)  the  -L  switch imposes a session length on any games loaded overriding the
session= values in System.Txt.  The value is in minutes.

e) -M <time> imposes a maximum time-limit per user.


                                     [15]
The  "control"  options  of  the  AMan command line have been removed and a new
program  created,  called  AGCon.  This is intended to be a half-way step to an
ARexx  interface  for  controlling  the  environment of active games.  Some new
options  have  been added, meanwhile.  Also, AGCon will accept SEVERAL commands
at a time, e.g.  "agcon -x 5 -s ram:newgame" would extend the game by 5 minutes
and set the next adventure directory to "ram:newgame". Options are:

	-K		Kills the current game
			Note: forces a reset if players online.
	-M <n>		Imposes a time limit on users
			Note: only affects users who log in AFTERWARDS.
	-Q		Sets quiet mode
	-R [<n>]	Forces a reset [in <n> MINUTES]
	-S <path>	Sets the path for the next session
	-X <n>		Extends the game by <n> MINUTES


                                     [16]
AMan  will  now attempt to release as much memory as possible in one go, trying
to  put  as  many  chunks  together  as possible - this will, hopefully, reduce
memory fragmentation.


                                     [17]
The optional "verb" on syntax lines is no-longer supported, so:
	syntax=verb any		or	syntax=verb noun=dog
should be changed to:
	syntax=any			syntax=noun=dog


                                     [18]
In  Lang.Txt,  the user-variable "*<noun>" (eg *ladder or *noun1) now functions
properly.   It  returns  the  current location of the specified object.  For an
example see "obgo <noun>" in Precious' Lang.Txt


                                     [19]
AGL  can now support up to 30 users, although this limit may be increased to 31
unless I decided soon to have a SEPERATE mobile line.


                                     [20]
ObDescs.Txt  and  Rooms.Txt  are  now  processed in memory, like all other .Txt
files,  which  should  produce  a greater compile time on machines running from
floppy or with a 68020+.


                                     [21]
The  SCORE  VERBOSE display will now show the score-required-for-next-level and
the  number of points the player has to go.  The layout of the display has also
been  slightly  modified  to  accomodate  this.   Can anyone think of any other
changes needed to the S/V display?


                                     [22]
AGL  now  allows you to specify where an object should be referred to as "the",
"a",  "an"  or  "some".  This is done in Objects.Txt - the default is "A".  "A"
and  "An"  are  the  indefinite ARTICLE, "Some" is the plural or the indefinite
ARTICLE and "The" is the definitie ARTICLE.  So to tell AGL which to use for an
object,  you  must  specify  the  article.   This  is done along with the other
parameters, like adj= etc.  Examples:

	noun=coins	art=some adj="silver"
	noun=door	art=the
	noun=apple	art=an


                                     [23]
A  new  field  has  been added to mobile characters which enables them to store
their  own  verb number for acting.  Previously each mobile had to look-up it's
verb  in  Lang.Txt each time it wanted to act, whereas it will now only have to
do this once.



                               // New Actions \\

hit <player>
	Takes a single 'swing' at them, WITHOUT starting the combat routines,
	and without interfering with any existing fight you may be in!

put <o1> <o2>
	Attempts to put object 1 into object 2. You will need to use the new
	condition "canput" to check if this is going to work, as it gives NO
	error message to the user, but simply performs a failparse IF:
		a) <o2> is NOT a container
		b) <o1> is a multi-located/scenery object
		c) <o2> is openable, but is not open (e.g. a closed bag)
		d) <o1> is already IN <o2>
		e) <o1> is too large to fit in <o2>
		f) The weight of <o1> added to the weight of the contents of
			<o2> is greater than the CONTAINS field of <o2>
	No other tests are made.
	*This function implemented to aid functionality of mobiles. Please
	 let me know what you feel needs doing to containers as I currently
	 don't use them in Precious, so I have no clue what needs doing!

quit FORCE | ASK
	QUIT ASK will behave just like QUIT in previous AMUL's.
	QUIT FORCE will log the player out WITHOUT confirming the request.

extend <seconds>
	Extends the game time by <seconds> like AMan -X (OK, Adam?)



                             // New Conditions \\


canput <o1> <o2>
	Tests if object <o1> will fit into <o2>. See the conditions for
	action "put" as to the rules regarding success.



                            // New Escape Codes \\

@a1 @a2
	Display the articles of NOUN1 and NOUN2 respectively.
