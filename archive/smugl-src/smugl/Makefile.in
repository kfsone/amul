# $Id: Makefile.in,v 1.9 1999/09/10 15:57:31 oliver Exp $
# Makefile for SMUGL main program ("frame")
#

SHELL = /bin/sh

# Default target
all::

EXES   = smugl
SRCS   = smugl.cpp manager.cpp client.cpp loaders.cpp misc.cpp \
	  parser.cpp langtable.cpp \
	  textproc.cpp ipc.cpp io.cpp login.cpp aliases.cpp ranks.cpp \
	  basicobjs.cpp rooms.cpp objects.cpp players.cpp mobiles.cpp \
	  lang.cpp travel.cpp version.cpp
VER    = SMUGL
OBJS   = $(SRCS:.cpp=.o)

include @top_srcdir@/include/Makefile

$(EXES): $(OBJS) $(SMUGLLIB)
	$(CXX) -o $@ @CFLAGS@ $(OBJS) $(LIBS)

install:: $(EXES)
	$(INSTALL_PROGRAM) -c $(EXES) $(bindir)

install-strip:: $(EXES)
	$(INSTALL_PROGRAM) -c -s $(EXES) $(bindir)

include Makefile.dep

cleanup:
	@ipcs | @PERL@ -ne '$$type = $$1 if /^(shm|sem)id/; `ipcrm $$type $$1` if /^(\d+)/'

